<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="TomatenKuchen - Serverstatistiken" name="description"/>

  <title>TomatenKuchen - Serverstatistiken</title>
  <link href="../assets/images/icon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="../assets/images/icon.ico" rel="icon" type="image/x-icon"/>

  <link href="../assets/css/simple.css" rel="stylesheet" type="text/css"/>

  <script src="../assets/js/script.js"></script>
  <script src="../assets/js/cookie.js"></script>
  <script src="../assets/js/api/api.js"></script>
  <script src="../assets/js/api/transformer.js"></script>
</head>

<body>
<script>
  const params = new URLSearchParams(window.location.search);
  if (params.has('guild')) {
    getStatsHTML(params.get('guild'))
      .then((html) => {
        //document.body.innerHTML += html;
        document.body.innerHTML = document.body.innerHTML.replace('{"DATA"}', html.data)
        document.body.innerHTML = document.body.innerHTML.replace('{"LABELS"}', html.labels)
      });
  } else {
    document.body.innerHTML += '<h1>Bitte gib den gew√ºnschten Server mit an!</h1>';
  }
</script>
  <div>
    <canvas id="myChart"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const labels = [
          {"LABELS"}
      ]
      
      const data = {
          labels: labels,
          datasets: [{
            label: "Nutzer",
            backgroundColor: "rgb(255, 99, 132)",
            borderColor: "rgb(255, 99, 132)",
            data: {"DATA"}
          }]
      }

      const config = {
          type: "line",
          data,
          options: {}
      }

      var myChart = new Chart(document.getElementById("myChart"), config)
    </script>
  </div>
</body>
</html>
