<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="TomatenKuchen - Serverstatistiken" name="description"/>

  <title>TomatenKuchen - Serverstatistiken</title>
  <link href="../assets/images/icon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="../assets/images/icon.ico" rel="icon" type="image/x-icon"/>

  <link href="../assets/css/simple.css" rel="stylesheet" type="text/css"/>

  <script src="../assets/js/script.js"></script>
  <script src="../assets/js/cookie.js"></script>
  <script src="../assets/js/api/api.js"></script>
  <script src="../assets/js/api/transformer.js"></script>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
  const params = new URLSearchParams(window.location.search);
  if (params.has('guild')) {
    getStatsHTML(params.get('guild'))
      .then((html) => {
        //document.body.innerHTML += html;
        console.log(html)
        document.body.innerHTML = document.body.innerHTML.replace('//HIER KOMMEN DIE VERDAMMTEN LABELS HIN UND JETZT LASST MICH IN RUHE MIT EUREN SYNTAX ERRORS', html.labels)
        document.body.innerHTML = document.body.innerHTML.replace('"DIESE DAMN FEHLER ES REGT AUF"//UND HIER DAS DATA ZEUG *triggered*', html.data)
        createChart()
      });
  } else {
   document.body.innerHTML += '<h1>Bitte gib den gew√ºnschten Server mit an!</h1>';
  }

  const labels = [
    //HIER KOMMEN DIE VERDAMMTEN LABELS HIN UND JETZT LASST MICH IN RUHE MIT EUREN SYNTAX ERRORS
  ]
      
  const data = {
    labels: labels,
    datasets: [{
      label: "Nutzer",
      backgroundColor: "rgb(255, 99, 132)",
      borderColor: "rgb(255, 99, 132)",
      data: "DIESE DAMN FEHLER ES REGT AUF"//UND HIER DAS DATA ZEUG *triggered*
    }]
  }

  const config = {
    type: "line",
    data,
    options: {}
  }

  function createChart() {
    var myChart = new Chart(document.getElementById("myChart"), config)
  }
</script>
  <canvas id="myChart"></canvas>
</body>
</html>
